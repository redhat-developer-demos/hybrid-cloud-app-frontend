(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{425:function(e,t,a){e.exports=a(634)},430:function(e,t,a){},432:function(e,t,a){},634:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(32),l=a.n(s),c=(a(430),a(431),a(16)),o=a(656),u=a(658),i=a(659),d=a(660),m=a(9),p=a.n(m),g=(a(432),a(649)),E=a(665),h=a(650),f=a(651),b=a(652),v=a(653),O=a(253),j=a.n(O),P=function(e){var t=e.responseHandler,a=Object(r.useState)(""),s=Object(c.a)(a,2),l=s[0],o=s[1],u=Object(r.useState)(!1),i=Object(c.a)(u,2),d=i[0],m=i[1],p=Object(r.useState)(!1),O=Object(c.a)(p,2),P=O[0],q=O[1],x=function(){o(""),m(!1),q(!1)},S=function(e){e.preventDefault();var a={text:l,uppercase:d,reverse:P};x(),j.a.post("/api/send-request",a).then((function(e){200===e.status&&(e.data?t(e.data):console.log("No data in response"))})).catch((function(e){console.log("Error sending message",e)}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"pf-c-title pf-m-lg"},"\xa0"),n.a.createElement(g.a,{isHorizontal:!0,onSubmit:S},n.a.createElement(E.a,{label:"Enter a message:",isRequired:!0},n.a.createElement(h.a,{type:"text",isRequired:!0,id:"text",name:"text",autoFocus:!0,onChange:o,value:l,maxLength:"30"})),n.a.createElement(E.a,{label:"Response formatting:"},n.a.createElement(f.a,{id:"request-uppercase",label:"Uppercase",type:"checkbox",name:"uppercase",onChange:m,isChecked:d}),n.a.createElement(f.a,{id:"request-reverse",label:"Reverse",type:"checkbox",name:"reverse",onChange:q,isChecked:P})),n.a.createElement(b.a,{className:"pf-u-float-right"},n.a.createElement(v.a,{variant:"primary",onClick:S,isDisabled:0===l.length},"Send Request"),n.a.createElement(v.a,{variant:"link",onClick:x},"Cancel"))))},q=a(155),x=a(664),S=a(663),k=a(662),w=a(654),C=a(655),D=a(657),y=a(263),R=a.n(y),I=a(17),F=a.n(I),N=function(e){var t=e.totalCount,a=e.page,r=e.perPage,s=e.handleSetPage,l=e.handlePerPageSelect;return n.a.createElement(k.a,{isCompact:!0,itemCount:t,page:a,perPage:r,defaultToFullPage:!0,onSetPage:s,onPerPageSelect:l,perPageOptions:[{title:"3",value:3},{title:"5",value:5},{title:"10",value:10},{title:"15",value:15},{title:"20",value:20}]})},z=function(e){var t=e.rows,a=Object(r.useState)(3),s=Object(c.a)(a,2),l=s[0],u=s[1],i=Object(r.useState)(t.slice(0,3)),d=Object(c.a)(i,2),m=d[0],p=d[1],g=Object(r.useState)(1),E=Object(c.a)(g,2),h=E[0],f=E[1],b=t.map((function(e){return{cells:e.cells}}));return n.a.createElement(n.a.Fragment,null,n.a.createElement(N,{totalCount:t.length,page:h,perPage:l,handlePerPageSelect:function(e,a,r,n,s){u(a),f(r),p(t.slice(n,s))},handleSetPage:function(e,a,r,n,s){f(a),p(t.slice(n,s))}}),n.a.createElement(q.a,{"aria-label":"Responses",cells:["Response","Cloud"],rows:b},n.a.createElement(x.a,{className:F.a.modifiers.nowrap}),n.a.createElement(S.a,null)),m.length<=0&&n.a.createElement(w.a,null,n.a.createElement(C.a,{icon:R.a}),n.a.createElement(o.a,{headingLevel:"h2",size:"lg"},"No messages."),n.a.createElement(D.a,null,'No messages yet, use "Send Request" above to send one.')))},L=function(e){var t=e.responses;return n.a.createElement(z,{rows:function(e){if(e&&e.length>0){var t=[];return e.forEach((function(e){for(var a=[],r=0,n=Object.entries(e);r<n.length;r++){var s=Object(c.a)(n[r],2),l=s[0],o=s[1];a.push(o.text),a.push(l)}t.push({cells:a})})),t}return[]}(t)})},H=a(661),M=a(7),T=function(e){var t=e.workerData;return n.a.createElement("div",{style:{height:"230px",width:"350px"}},n.a.createElement(H.a,{ariaDesc:"Processed Messages",ariaTitle:"Responses",constrainToVisibleArea:!0,data:t.data,labels:function(e){var t=e.datum;return"".concat(t.x,": ").concat(t.y,"%")},legendData:t.legendData,legendOrientation:"vertical",legendPosition:"right",padding:{bottom:20,left:20,right:140,top:20},subTitle:"Processed Messages",title:t.title,themeColor:M.q.multiOrdered,width:350}))},J=function(e){var t=e.workers;return n.a.createElement(n.a.Fragment,null,n.a.createElement(T,{workerData:function(e){var t=[],a=[],r=0;return e&&e.length>0?(e.forEach((function(e){for(var n=0,s=Object.entries(e);n<s.length;n++){var l=Object(c.a)(s[n],2),o=l[0],u=l[1].requestsProcessed;r+=u,t.push({x:o,y:u}),a.push({name:"".concat(o,": ").concat(u)})}})),{data:t,legendData:a,title:r}):{data:[],legendData:[],title:r}}(t)}))},V=a(23);var A=function(e,t,a){var r,n=t?p.a.slice(t):[],s=Object(V.a)({},e.cloudId,{text:e.text}),l=p.a.findIndex(t,Object(V.a)({},a.cloud,{}));if(-1===l)r=Object(V.a)({},a.cloud,{requestsProcessed:a.requestsProcessed,requestErrors:a.requestErrors?a.requestErrors:0}),n=p.a.concat(t,r);else{var c=p.a.nth(t,l)[a.cloud],o=a.requestsProcessed+c.requestsProcessed,u=a.requestErrors?a.requestErrors:0;r=Object(V.a)({},a.cloud,{requestsProcessed:o,requestErrors:u+c.requestErrors}),n[l]=r}return{responseData:s,workerData:n}},B=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),a=t[0],s=t[1],l=Object(r.useState)([]),m=Object(c.a)(l,2),g=m[0],E=m[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,{headingLevel:"h1",size:o.b["4xl"]},"Hybrid Cloud Demo"),n.a.createElement(u.a,null),n.a.createElement("div",{id:"-body-content"},n.a.createElement(P,{responseHandler:function(e){if(e){var t=e.requestIds.reverse();if(t){var r=e.responses[t],n=e.workers[r.workerId],l=A(r,g,n),c=l.responseData,o=l.workerData;s(p.a.concat(a,c)),E(o)}}}})),n.a.createElement(u.a,null),n.a.createElement(i.a,{spaceItems:{modifier:"spaceItemsXl"}},n.a.createElement(d.a,{flex:{default:"flex_2"}},n.a.createElement(o.a,{headingLevel:"h1",size:o.b["2xl"]},"Responses"),n.a.createElement(L,{responses:a})),n.a.createElement(u.a,{isVertical:!0}),n.a.createElement(d.a,null,n.a.createElement(o.a,{headingLevel:"h1",size:o.b["2xl"]},"Messages"),n.a.createElement(J,{workers:g}))))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(B,null)),document.getElementById("root"))}},[[425,1,2]]]);
//# sourceMappingURL=main.dd4c6c82.chunk.js.map